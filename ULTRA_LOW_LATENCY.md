# üöÄ –£–õ–¨–¢–†–ê-–ù–ò–ó–ö–ê–Ø –ó–ê–î–ï–†–ñ–ö–ê –ì–û–õ–û–°–û–í–û–ì–û –ß–ê–¢–ê

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏

### Chrome (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–ó–∞–ø—É—Å—Ç–∏—Ç–µ Chrome —Å —Ñ–ª–∞–≥–∞–º–∏ –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏:

```bash
chrome --enable-features=WebRtcHideLocalIpsWithMdns,WebRtcUseEchoCanceller3 \
       --disable-features=WebRtcHybridAgc \
       --force-fieldtrials="WebRTC-Audio-MinimizeResamplingOnMobile/Enabled/" \
       --disable-background-timer-throttling \
       --disable-backgrounding-occluded-windows \
       --disable-renderer-backgrounding \
       --max_old_space_size=4096
```

### Firefox
–û—Ç–∫—Ä–æ–π—Ç–µ `about:config` –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
- `media.navigator.mediadataencoder_vpx_enabled` ‚Üí `false`
- `media.peerconnection.ice.force_interface` ‚Üí –≤–∞—à IP
- `media.webaudio.latency_hints` ‚Üí `true`

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã

### Windows
1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏—è:**
   - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí –≠–ª–µ–∫—Ç—Ä–æ–ø–∏—Ç–∞–Ω–∏–µ ‚Üí "–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É–¥–∏–æ:**
   - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí –ó–≤—É–∫ ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ó–∞–ø–∏—Å—å"
   - –í—ã–±–µ—Ä–∏—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω ‚Üí –°–≤–æ–π—Å—Ç–≤–∞ ‚Üí "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ"
   - –°–Ω–∏–º–∏—Ç–µ "–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤"
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ "16 –±–∏—Ç, 48000 –ì—Ü"

3. **–û—Ç–∫–ª—é—á–∏—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ —Å–ª—É–∂–±—ã:**
   ```cmd
   sc config "Windows Update" start=disabled
   sc config "Windows Search" start=disabled
   ```

### Linux
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PulseAudio –¥–ª—è –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏
echo "default-sample-rate = 48000" >> ~/.pulse/daemon.conf
echo "alternate-sample-rate = 48000" >> ~/.pulse/daemon.conf
echo "default-fragments = 2" >> ~/.pulse/daemon.conf
echo "default-fragment-size-msec = 5" >> ~/.pulse/daemon.conf
pulseaudio -k && pulseaudio --start
```

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ —Å—Ç–µ–∫–∞
```bash
# Linux
echo 'net.core.rmem_max = 16777216' >> /etc/sysctl.conf
echo 'net.core.wmem_max = 16777216' >> /etc/sysctl.conf
echo 'net.ipv4.tcp_congestion_control = bbr' >> /etc/sysctl.conf
sysctl -p
```

### QoS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ—É—Ç–µ—Ä–∞
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è UDP —Ç—Ä–∞—Ñ–∏–∫–∞: **–í—ã—Å–æ–∫–∏–π**
- –ü–æ—Ä—Ç—ã: 50000-60000 (WebRTC)
- DSCP –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞: AF41 –∏–ª–∏ EF

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
–û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Console –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ AudioContext –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
const ctx = new AudioContext();
console.log('Base latency:', ctx.baseLatency * 1000, 'ms');
console.log('Output latency:', ctx.outputLatency * 1000, 'ms');

// –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ WebRTC —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
setInterval(async () => {
  const stats = await pc.getStats();
  stats.forEach(stat => {
    if (stat.type === 'media-source' && stat.kind === 'audio') {
      console.log('Audio delay:', stat.totalAudioEnergy);
    }
  });
}, 1000);
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:
- **–ó–∞–¥–µ—Ä–∂–∫–∞ –∑–∞—Ö–≤–∞—Ç–∞ –∞—É–¥–∏–æ:** < 10ms
- **–°–µ—Ç–µ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞:** < 20ms (–ª–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å)
- **–ó–∞–¥–µ—Ä–∂–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:** < 5ms
- **–û–±—â–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞:** < 35ms

### –ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã:
- ‚ùå –û—Ç–∫–ª—é—á–µ–Ω—ã —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ –∏ —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ
- ‚ùå –í–æ–∑–º–æ–∂–Ω—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø—Ä–∏ –ø–ª–æ—Ö–æ–π —Å–≤—è–∑–∏  
- ‚ùå –ü–æ–≤—ã—à–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU/–±–∞—Ç–∞—Ä–µ–∏
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π –∑–≤—É–∫ –≥–æ–ª–æ—Å–∞

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ DevTools Console:
```
üîä Audio Context latency: X ms  // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å < 10ms
üé§ Microphone enabled with ULTRA low-latency settings
üîä Audio track attached with ULTRA low-latency settings
```

### –í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞? –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –Ω–∞–≥—Ä—É–∂–µ–Ω** ‚Üí –ó–∞–∫—Ä–æ–π—Ç–µ –ª–∏—à–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. **–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–µ—Ç—å** ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ping
3. **–£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥—Ä–∞–π–≤–µ—Ä—ã –∞—É–¥–∏–æ** ‚Üí –û–±–Ω–æ–≤–∏—Ç–µ
4. **–ê–Ω—Ç–∏–≤–∏—Ä—É—Å –±–ª–æ–∫–∏—Ä—É–µ—Ç** ‚Üí –î–æ–±–∞–≤—å—Ç–µ –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
5. **Wi-Fi –≤–º–µ—Å—Ç–æ Ethernet** ‚Üí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–±–µ–ª—å

## üö® –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º

–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏ (< 20ms):

1. **–ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Ethernet**
2. **–û—Ç–∫–ª—é—á–∏—Ç–µ Wi-Fi –ø–æ–ª–Ω–æ—Å—Ç—å—é**
3. **–ó–∞–∫—Ä–æ–π—Ç–µ –í–°–ï –ª–∏—à–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –∞—É–¥–∏–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**
5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ LiveKit –Ω–∞ —Ç–æ–º –∂–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ**

### –õ–æ–∫–∞–ª—å–Ω—ã–π LiveKit –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
livekit-server --config livekit.yaml --bind 127.0.0.1
```

–ò–∑–º–µ–Ω–∏—Ç–µ –≤ `backend/.env`:
```
LIVEKIT_URL=ws://127.0.0.1:7880
```

---

**‚ö° –†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞–¥–µ—Ä–∂–∫–∞ –≥–æ–ª–æ—Å–∞ –∫–∞–∫ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–º —Ä–∞–∑–≥–æ–≤–æ—Ä–µ (~15-25ms)! 